/* ===== SPA PORTFOLIO WITH SCROLL-SNAP ===== */

:root {
  /* Base colors */
  --white: #ffffff;
  --accent: #f59e0b;

  /* Fluid spacing */
  --space-xs: clamp(0.5rem, 1vw, 0.75rem);
  --space-sm: clamp(1rem, 2vw, 1.5rem);
  --space-md: clamp(1.5rem, 3vw, 2.5rem);
  --space-lg: clamp(2rem, 4vw, 3.5rem);
  --space-xl: clamp(3rem, 6vw, 5rem);

  /* Fluid typography */
  --text-xs: clamp(0.75rem, 1.5vw, 0.875rem);
  --text-sm: clamp(0.875rem, 2vw, 1rem);
  --text-base: clamp(1rem, 2.5vw, 1.125rem);
  --text-lg: clamp(1.125rem, 3vw, 1.25rem);
  --text-xl: clamp(1.25rem, 4vw, 1.5rem);
  --text-2xl: clamp(1.5rem, 5vw, 2rem);
  --text-3xl: clamp(2rem, 6vw, 3rem);
  --text-4xl: clamp(2.5rem, 8vw, 4rem);

  /* Fluid line heights */
  --leading-tight: clamp(1.1, 1.2, 1.25);
  --leading-normal: clamp(1.4, 1.5, 1.6);
  --leading-relaxed: clamp(1.5, 1.6, 1.75);

  /* Shadows */
  --shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1);
  --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1);

  /* Borders */
  --radius: clamp(0.5rem, 1vw, 0.75rem);
  --radius-lg: clamp(0.75rem, 1.5vw, 1rem);
}

/* ===== THEME DEFINITIONS FOR STYLE QUERIES ===== */
.theme-light {
  --color-surface: #f8fafc;
  --color-text: #1e293b;
  --color-primary: #3b82f6;
  --color-secondary: #64748b;
  --color-accent: #f59e0b;
  --color-border: #e2e8f0;
  --color-shadow: rgba(0, 0, 0, 0.1);
}

.theme-dark {
  --color-surface: #1e293b;
  --color-text: #f8fafc;
  --color-primary: #60a5fa;
  --color-secondary: #94a3b8;
  --color-accent: #fbbf24;
  --color-border: #374151;
  --color-shadow: rgba(0, 0, 0, 0.3);
}

/* Reset and base */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html {
  scroll-behavior: smooth;
}

body {
  font-family: system-ui, -apple-system, sans-serif;
  line-height: var(--leading-normal);
  color: var(--color-text);
  background: var(--color-surface);
}

/* ===== SCROLL SNAPPING ===== */
.scroll-container {
  scroll-snap-type: y mandatory;
  height: 100vh;
  overflow-y: scroll;
}

.section {
  /* Use 100dvh (dynamic viewport height), 100svh (small viewport height), or 100lvh (large viewport height) to ensure each section fills the full visible screen height, including on mobile devices where browser UI can change the viewport size. 100svh is especially useful for handling mobile browser toolbars that appear/disappear, providing a more accurate visible area. 100lvh can be useful to ensure maximum height when the browser UI is fully expanded. */
  min-height: 100dvh;
  scroll-snap-align: start;
  display: flex;
  align-items: center;
  position: relative;
}

.container {
  container-type: inline-size;
  container-name: section-container;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-md);
  width: 100%;
}

/* ===== SPA NAVIGATION ===== */
.main-nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(10px);
  z-index: 1000;
  padding: var(--space-sm) 0;
  box-shadow: var(--shadow);
}

.nav-container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--space-md);
  display: flex;
  justify-content: center;
  gap: var(--space-lg);
}

.nav-link {
  text-decoration: none;
  color: var(--color-text);
  font-weight: 500;
  font-size: var(--text-sm);
  padding: var(--space-xs) var(--space-sm);
  border-radius: var(--radius);
  transition: all 0.2s;
}

.nav-link:hover,
.nav-link.active {
  background: var(--color-primary);
  color: var(--white);
}

/* ===== STYLE QUERIES: CONTEXTUAL COMPONENT ADAPTATION ===== */
/*
 * ðŸ†• EXPERIMENTAL TECHNIQUE: Style Queries
 * Allows components to adapt based on their container's style properties
 * Instead of just size (Container Queries)
 */

/* Light theme container - components adapt automatically */
@container style(--color-surface: #f8fafc) {
  .section-title {
    color: var(--color-text);
    text-shadow: none;
  }

  .project-card {
    background: var(--color-surface);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    box-shadow: 0 4px 6px var(--color-shadow);
  }

  .project-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 15px var(--color-shadow);
  }

  .cta-button {
    background: var(--color-primary);
    color: white;
    border: 2px solid var(--color-primary);
  }

  .cta-button:hover {
    background: transparent;
    color: var(--color-primary);
  }
}

/* Dark theme container - components adapt automatically */
@container style(--color-surface: #1e293b) {
  .section-title {
    color: var(--color-text);
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
  }

  .project-card {
    background: rgba(255, 255, 255, 0.1);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    backdrop-filter: blur(10px);
    box-shadow: 0 4px 6px var(--color-shadow);
  }

  .project-card:hover {
    background: rgba(255, 255, 255, 0.15);
    transform: translateY(-4px);
    box-shadow: 0 8px 15px var(--color-shadow);
  }

  .cta-button {
    background: var(--color-primary);
    color: var(--color-text);
    border: 2px solid var(--color-primary);
  }

  .cta-button:hover {
    background: transparent;
    color: var(--color-primary);
  }
}

/* ===== SECTION STYLES ===== */
.home-section {
  background: linear-gradient(135deg, var(--color-primary) 0%, #1e40af 100%);
  color: var(--white);
  text-align: center;
}

.about-section {
  background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
}

.work-section {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  color: var(--white);
}

.contact-section {
  background: linear-gradient(135deg, var(--accent) 0%, #d97706 100%);
  color: var(--white);
}

/* ===== HERO WITH BACKGROUND IMAGE ===== */
.hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.hero-bg-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

.hero-content {
  text-align: center;
  color: var(--white);
  z-index: 1;
  background: rgba(0, 0, 0, 0.4);
  padding: var(--space-xl);
  border-radius: var(--radius);
  backdrop-filter: blur(10px);
}

.hero-title {
  font-size: var(--text-4xl);
  font-weight: 700;
  line-height: var(--leading-tight);
  margin-bottom: var(--space-md);
}

.hero-subtitle {
  font-size: var(--text-xl);
  line-height: var(--leading-relaxed);
  margin-bottom: var(--space-lg);
  opacity: 0.9;
}

.section-title {
  font-size: var(--text-3xl);
  font-weight: 600;
  text-align: center;
  margin-bottom: var(--space-xl);
}

/* ===== ADVANCED GRID SYSTEM ===== */
.projects-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: var(--space-lg);
}

/* ===== SUBGRID FOR PERFECT ALIGNMENT ===== */
/* Apply subgrid only when supported */
@supports (grid-template-columns: subgrid) {
  .projects-grid {
    grid-template-rows: auto auto 1fr auto auto; /* Image, overlay, title, description, tags */
  }

  .project-card {
    display: grid;
    grid-template-columns: subgrid;
    grid-template-rows: subgrid;
    grid-column: span 1;
    grid-row: span 1;
  }
}

/* Fallback for browsers without subgrid support */
@supports not (grid-template-columns: subgrid) {
  .project-card {
    display: flex;
    flex-direction: column;
    grid-column: span 1;
  }
}

.project-image-container {
  grid-row: 1;
}

.project-overlay {
  grid-row: 2;
}

.project-info h3 {
  grid-row: 3;
}

.project-info p {
  grid-row: 4;
}

.project-tags {
  grid-row: 5;
  align-self: end;
}

/* ===== CONTAINER QUERIES ===== */
@container section-container (max-width: 600px) {
  .project-card {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    gap: var(--space-md);
  }

  .project-card img {
    width: 120px;
    height: 90px;
    object-fit: cover;
    flex-shrink: 0;
  }

  .project-info {
    flex: 1;
  }
}

/* ===== PROJECT CARD IMAGES ===== */
.project-card {
  background: var(--white);
  border-radius: var(--radius-lg);
  overflow: hidden;
  box-shadow: var(--shadow);
  transition: transform 0.2s, box-shadow 0.2s;
}

.project-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}

.project-image-container {
  position: relative;
  overflow: hidden;
}

.project-image {
  width: 100%;
  height: 200px;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.project-card:hover .project-image {
  transform: scale(1.05);
}

/* ===== IMAGE OVERLAY EFFECTS ===== */
.project-overlay {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.project-card:hover .project-overlay {
  opacity: 1;
}

.project-link {
  color: white;
  text-decoration: none;
  padding: var(--space-sm) var(--space-lg);
  border: 2px solid white;
  border-radius: var(--radius);
  font-weight: 600;
  transition: all 0.3s ease;
}

.project-link:hover {
  background: white;
  color: var(--color-text);
}

/* ===== PROJECT INFO STYLES ===== */
.project-info {
  padding: var(--space-md);
}

.project-info h3 {
  font-size: var(--text-lg);
  font-weight: 600;
  margin-bottom: var(--space-xs);
  color: var(--color-text);
}

.project-info p {
  font-size: var(--text-sm);
  color: var(--color-secondary);
  margin-bottom: var(--space-sm);
  line-height: var(--leading-normal);
}

/* ===== ENHANCED TAG SYSTEM ===== */
.project-tags {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-xs);
}

.tag {
  background: var(--color-primary);
  color: var(--white);
  padding: var(--space-xs) var(--space-sm);
  border-radius: 9999px;
  font-size: var(--text-xs);
  font-weight: 500;
}

/* ===== BUTTON COMPONENTS ===== */
.cta-button,
.submit-button {
  background: var(--accent);
  color: var(--white);
  padding: var(--space-sm) var(--space-lg);
  border: none;
  border-radius: var(--radius);
  font-size: var(--text-base);
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  text-decoration: none;
  display: inline-block;
}

.cta-button:hover,
.submit-button:hover {
  background: #d97706;
  transform: translateY(-2px);
}

/* ===== HERO WITH RESPONSIVE BACKGROUND ===== */
.hero-section {
  position: relative;
  min-height: 100dvh;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}

.hero-background {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -1;
}

.hero-bg-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center;
}

/* ===== PROFILE IMAGE RESPONSIVE ===== */
.about-content {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--space-xl);
  align-items: center;
}

.about-image {
  text-align: center;
}

.profile-image {
  width: 100%;
  max-width: 300px;
  height: auto;
  border-radius: 50%;
  box-shadow: var(--shadow-lg);
  transition: transform 0.3s ease;
}

.profile-image:hover {
  transform: scale(1.05);
}

/* ===== RESPONSIVE IMAGES WITH ASPECT RATIO ===== */
.aspect-ratio-container {
  position: relative;
  width: 100%;
  height: 0;
  padding-bottom: 56.25%; /* 16:9 aspect ratio */
  overflow: hidden;
}

.aspect-ratio-container img {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* ===== HIGH DPI IMAGES ===== */
.high-dpi-image {
  width: 100%;
  height: auto;
  /* For high density screens */
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
}

/* ===== RESPONSIVE SVG ===== */
.responsive-svg {
  width: 100%;
  height: auto;
  max-width: 100%;
}

.responsive-svg svg {
  width: 100%;
  height: auto;
}

/* ===== LAZY LOADING UTILITIES ===== */
.lazy-image {
  opacity: 0;
  transition: opacity 0.3s ease;
}

.lazy-image.loaded {
  opacity: 1;
}

/* ===== IMAGE PLACEHOLDER UTILITIES ===== */
.image-placeholder {
  background: linear-gradient(45deg, #f0f0f0 25%, transparent 25%),
    linear-gradient(-45deg, #f0f0f0 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, #f0f0f0 75%),
    linear-gradient(-45deg, transparent 75%, #f0f0f0 75%);
  background-size: 20px 20px;
  background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
}

.image-loading {
  background: var(--color-surface);
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-secondary);
}

/* ===== CONTAINER QUERIES FOR IMAGES ===== */
@container section-container (max-width: 600px) {
  .about-content {
    grid-template-columns: 1fr;
    text-align: center;
  }

  .project-image-container {
    height: 150px;
  }

  .project-image {
    height: 150px;
  }

  .hero-content {
    padding: var(--space-lg);
  }
}

/* ===== MEDIA QUERIES FOR IMAGES (Mobile-First: Progressive Enhancement) ===== */
/*
 * MOBILE-FIRST STRATEGY:
 * - Base styles are for mobile (already defined above)
 * - min-width adds styles for larger screens
 * - Progressive enhancement - we improve the experience as the screen grows
 */

/* Tablet: 481px+ */
@media (min-width: 481px) {
  .hero-content {
    padding: var(--space-md);
  }

  .project-image {
    height: 160px;
  }

  .profile-image {
    max-width: 200px;
  }
}

/* Small desktop: 769px+ */
@media (min-width: 769px) {
  .hero-bg-image {
    object-position: center;
  }

  .project-image {
    height: 180px;
  }

  .profile-image {
    max-width: 250px;
  }

  .hero-content {
    padding: var(--space-lg);
  }
}

/* Large desktop: 1024px+ */
@media (min-width: 1024px) {
  .project-image {
    height: 200px;
  }

  .profile-image {
    max-width: 300px;
  }
}

.project-image {
  height: 160px;
}

.profile-image {
  max-width: 200px;
}
